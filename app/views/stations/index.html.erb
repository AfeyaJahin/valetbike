<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="page-section flexbox vertical stretch m-2">
      <div>
        <h1 class="section-title px-6 pt-6">Find A Bike!</h1>
      </div>
    </div>
    
    <div class="container mx-auto">
      <div class="flex justify-center">
        <!-- Row -->
        <div class="w-full flex">
          <div class="w-full lg:w-1/2 bg-white px-5 ">
      <div class="container mx-auto">
        <form class=" bg-white p-1">
          <div class="mb-4 flex items-center">
            <input type="search" class="w-full border border-gray-400" placeholder="Enter a city, zipcode (eg. South Hadley/ 01075)" required/>
            <button class="ml-2 bg-blue-500 p-2 text-white hover:bg-blue-600" type="submit">Search</button>
          </div>
        </form>
      </div>
            <div class="section-inner flexbox vertical stretch">
              <div class="grid grid-rows-1 gap-2 mt-2 md:mt-16 md:grid-rows-2">
                <% if @stations.present? %>
                  <%= render(partial: "stations/station_row", collection: @stations, as: :station) %>
                <% else %>
                
                <div class="empty">
                  No stations found.
                </div>
                <% end %>
              </div> 
            </div>
          </div>

          <div class="w-full px-5 lg:w-1/2">
            <% results = Geocoder.search("Northampton, MA") %> 
            <% maps_api_key = "AIzaSyCp5mAqPHORth7ssHydyqRCwDjIuLnHT_E"%>
              <iframe position="fixed" width="100%" height="100%" frameborder="1" style="border:0"
              src="https://www.google.com/maps/embed/v1/place?key=<%= maps_api_key%>&q=<%= results.first.coordinates%>"
              allowfullscreen>
              </iframe>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>